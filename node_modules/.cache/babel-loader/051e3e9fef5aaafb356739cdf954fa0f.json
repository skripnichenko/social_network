{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"/home/skripnichenko/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import c from'./ProfileInfo.module.css';import Preloader from'./../../common/Preloader/Preloader';import ProfileStatusWithHooks from'./ProfileStatusWithHooks';import userPhoto from'./../../../assets/images/users.png';import ProfileDataFormReduxForm from'./ProfileDataForm';var ProfileInfo=function ProfileInfo(_ref){var profile=_ref.profile,status=_ref.status,updateStatus=_ref.updateStatus,isOwner=_ref.isOwner,savePhoto=_ref.savePhoto,saveProfile=_ref.saveProfile;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var onSubmit=function onSubmit(formData){saveProfile(formData).then(function(){setEditMode(false);});};if(!profile){return/*#__PURE__*/_jsx(Preloader,{});}var onMainPhotoSelected=function onMainPhotoSelected(e){if(e.target.files.length){savePhoto(e.target.files[0]);}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:c.descriptionblock,children:[/*#__PURE__*/_jsx(\"img\",{src:profile.photos.large||userPhoto,className:c.mainPhoto}),isOwner&&/*#__PURE__*/_jsx(\"input\",{type:'file',onChange:onMainPhotoSelected}),editMode?/*#__PURE__*/_jsx(ProfileDataFormReduxForm,{initialValues:profile,profile:profile,onSubmit:onSubmit}):/*#__PURE__*/_jsx(ProfileData,{profile:profile,isOwner:isOwner,goToEditMode:function goToEditMode(){return setEditMode(true);}}),/*#__PURE__*/_jsx(ProfileStatusWithHooks,{status:status,updateStatus:updateStatus})]})});};var Contact=function Contact(_ref2){var contactTitle=_ref2.contactTitle,contactValue=_ref2.contactValue;return/*#__PURE__*/_jsxs(\"div\",{className:c.contact,children:[/*#__PURE__*/_jsx(\"b\",{children:contactTitle}),\": \",contactValue]});};var ProfileData=function ProfileData(_ref3){var profile=_ref3.profile,isOwner=_ref3.isOwner,goToEditMode=_ref3.goToEditMode;return/*#__PURE__*/_jsxs(\"div\",{children:[isOwner&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:goToEditMode,children:\"Edit\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Full name\"}),\": \",profile.fullName]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Looking for a job\"}),\": \",profile.lookingForAJob?'Yes':'No']}),profile.lookingForAJob&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"My professional skills\"}),\": \",profile.lookingForAJobDescription]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"About me\"}),\": \",profile.aboutMe]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"Contacts\"}),\": \",Object.keys(profile.contacts).map(function(key){return/*#__PURE__*/_jsx(Contact,{contactTitle:key,contactValue:profile.contacts[key]},key);})]})]});};export default ProfileInfo;","map":{"version":3,"sources":["/home/skripnichenko/social_network/src/components/Profile/ProfileInfo/ProfileInfo.jsx"],"names":["React","useState","c","Preloader","ProfileStatusWithHooks","userPhoto","ProfileDataFormReduxForm","ProfileInfo","profile","status","updateStatus","isOwner","savePhoto","saveProfile","editMode","setEditMode","onSubmit","formData","then","onMainPhotoSelected","e","target","files","length","descriptionblock","photos","large","mainPhoto","Contact","contactTitle","contactValue","contact","ProfileData","goToEditMode","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","Object","keys","contacts","map","key"],"mappings":"iPAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,CAAP,KAAc,0BAAd,CACA,MAAOC,CAAAA,SAAP,KAAsB,oCAAtB,CACA,MAAOC,CAAAA,sBAAP,KAAmC,0BAAnC,CACA,MAAOC,CAAAA,SAAP,KAAsB,oCAAtB,CACA,MAAOC,CAAAA,wBAAP,KAAqC,mBAArC,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,MAAwE,IAArEC,CAAAA,OAAqE,MAArEA,OAAqE,CAA5DC,MAA4D,MAA5DA,MAA4D,CAApDC,YAAoD,MAApDA,YAAoD,CAAtCC,OAAsC,MAAtCA,OAAsC,CAA7BC,SAA6B,MAA7BA,SAA6B,CAAlBC,WAAkB,MAAlBA,WAAkB,eACxDZ,QAAQ,CAAC,KAAD,CADgD,wCACjFa,QADiF,eACvEC,WADuE,eAExF,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,QAAD,CAAc,CAC3BJ,WAAW,CAACI,QAAD,CAAX,CAAsBC,IAAtB,CACI,UAAK,CAACH,WAAW,CAAC,KAAD,CAAX,CAAmB,CAD7B,EAGH,CAJD,CAMA,GAAI,CAACP,OAAL,CAAc,CACV,mBAAO,KAAC,SAAD,IAAP,CACH,CACD,GAAMW,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,CAAD,CAAO,CAC/B,GAAIA,CAAC,CAACC,MAAF,CAASC,KAAT,CAAeC,MAAnB,CAA2B,CACvBX,SAAS,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAT,CACH,CACJ,CAJD,CAMA,mBACI,kCACI,aAAK,SAAS,CAAEpB,CAAC,CAACsB,gBAAlB,wBACI,YAAK,GAAG,CAAEhB,OAAO,CAACiB,MAAR,CAAeC,KAAf,EAAwBrB,SAAlC,CAA6C,SAAS,CAAEH,CAAC,CAACyB,SAA1D,EADJ,CAEKhB,OAAO,eAAI,cAAO,IAAI,CAAE,MAAb,CAAqB,QAAQ,CAAEQ,mBAA/B,EAFhB,CAGKL,QAAQ,cACH,KAAC,wBAAD,EAA0B,aAAa,CAAEN,OAAzC,CAAkD,OAAO,CAAEA,OAA3D,CAAoE,QAAQ,CAAEQ,QAA9E,EADG,cAEH,KAAC,WAAD,EAAa,OAAO,CAAER,OAAtB,CAA+B,OAAO,CAAEG,OAAxC,CAAiD,YAAY,CAAE,8BAAMI,CAAAA,WAAW,CAAC,IAAD,CAAjB,EAA/D,EALV,cAOI,KAAC,sBAAD,EAAwB,MAAM,CAAEN,MAAhC,CAAwC,YAAY,CAAEC,YAAtD,EAPJ,GADJ,EADJ,CAaH,CA9BD,CAgCA,GAAMkB,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,OAAoC,IAAjCC,CAAAA,YAAiC,OAAjCA,YAAiC,CAAnBC,YAAmB,OAAnBA,YAAmB,CAChD,mBAAO,aAAK,SAAS,CAAE5B,CAAC,CAAC6B,OAAlB,wBAA2B,mBAAIF,YAAJ,EAA3B,MAAmDC,YAAnD,GAAP,CACH,CAFD,CAIA,GAAME,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,OAAwC,IAArCxB,CAAAA,OAAqC,OAArCA,OAAqC,CAA5BG,OAA4B,OAA5BA,OAA4B,CAAnBsB,YAAmB,OAAnBA,YAAmB,CACxD,mBAAO,uBACFtB,OAAO,eAAI,kCAAK,eAAQ,OAAO,CAAEsB,YAAjB,kBAAL,EADT,cAEH,oCACI,gCADJ,MACuBzB,OAAO,CAAC0B,QAD/B,GAFG,cAKH,oCACI,wCADJ,MAC+B1B,OAAO,CAAC2B,cAAR,CAAyB,KAAzB,CAAiC,IADhE,GALG,CAQF3B,OAAO,CAAC2B,cAAR,eACG,oCACI,6CADJ,MACoC3B,OAAO,CAAC4B,yBAD5C,GATD,cAaH,oCACI,+BADJ,MACsB5B,OAAO,CAAC6B,OAD9B,GAbG,cAgBH,oCACI,+BADJ,MACsBC,MAAM,CAACC,IAAP,CAAY/B,OAAO,CAACgC,QAApB,EAA8BC,GAA9B,CAAkC,SAAAC,GAAG,CAAI,CACvD,mBAAO,KAAC,OAAD,EAAmB,YAAY,CAAEA,GAAjC,CAAsC,YAAY,CAAElC,OAAO,CAACgC,QAAR,CAAiBE,GAAjB,CAApD,EAAcA,GAAd,CAAP,CACH,CAFiB,CADtB,GAhBG,GAAP,CAsBH,CAvBD,CAyBA,cAAenC,CAAAA,WAAf","sourcesContent":["import React, { useState } from 'react';\nimport c from './ProfileInfo.module.css';\nimport Preloader from './../../common/Preloader/Preloader'\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks';\nimport userPhoto from './../../../assets/images/users.png';\nimport ProfileDataFormReduxForm from './ProfileDataForm';\n\nconst ProfileInfo = ({ profile, status, updateStatus, isOwner, savePhoto, saveProfile }) => {\n    const [editMode, setEditMode] = useState(false);\n    const onSubmit = (formData) => {\n        saveProfile(formData).then(\n            ()=> {setEditMode(false)}\n        )\n    }\n\n    if (!profile) {\n        return <Preloader />\n    }\n    const onMainPhotoSelected = (e) => {\n        if (e.target.files.length) {\n            savePhoto(e.target.files[0]);\n        }\n    }\n\n    return (\n        <div>\n            <div className={c.descriptionblock}>\n                <img src={profile.photos.large || userPhoto} className={c.mainPhoto} />\n                {isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\n                {editMode\n                    ? <ProfileDataFormReduxForm initialValues={profile} profile={profile} onSubmit={onSubmit} />\n                    : <ProfileData profile={profile} isOwner={isOwner} goToEditMode={() => setEditMode(true)} />}\n\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n            </div>\n        </div>\n    )\n}\n\nconst Contact = ({ contactTitle, contactValue }) => {\n    return <div className={c.contact}><b>{contactTitle}</b>: {contactValue}</div>\n}\n\nconst ProfileData = ({ profile, isOwner, goToEditMode }) => {\n    return <div>\n        {isOwner && <div><button onClick={goToEditMode}>Edit</button></div>}\n        <div>\n            <b>Full name</b>: {profile.fullName}\n        </div>\n        <div>\n            <b>Looking for a job</b>: {profile.lookingForAJob ? 'Yes' : 'No'}\n        </div>\n        {profile.lookingForAJob &&\n            <div>\n                <b>My professional skills</b>: {profile.lookingForAJobDescription}\n            </div>\n        }\n        <div>\n            <b>About me</b>: {profile.aboutMe}\n        </div>\n        <div>\n            <b>Contacts</b>: {Object.keys(profile.contacts).map(key => {\n                return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]} />\n            })}\n        </div>\n    </div>\n}\n\nexport default ProfileInfo;"]},"metadata":{},"sourceType":"module"}