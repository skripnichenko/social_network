{"ast":null,"code":"import _objectSpread from\"/home/skripnichenko/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/home/skripnichenko/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/skripnichenko/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/skripnichenko/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/skripnichenko/social_network/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import Profile from'./Profile';import{connect}from'react-redux';import{getUserProfile,getStatus,updateStatus,savePhoto,saveProfile}from'./../../redux/profile-reducer';import{withRouter}from'react-router-dom';import{withAuthRedirect}from'../../HOC/withAuthRedirect';import{compose}from'redux';var ProfileContainer=/*#__PURE__*/function(_React$Component){_inherits(ProfileContainer,_React$Component);var _super=_createSuper(ProfileContainer);function ProfileContainer(){_classCallCheck(this,ProfileContainer);return _super.apply(this,arguments);}_createClass(ProfileContainer,[{key:\"refreshProfile\",value:function refreshProfile(){var userId=this.props.match.params.userID;if(!userId){userId=this.props.authorizedUserId;if(!userId){this.props.history.push('./login');}}this.props.getUserProfile(userId);this.props.getStatus(userId);}},{key:\"componentDidMount\",value:function componentDidMount(){this.refreshProfile();}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props.match.params.userID!==prevProps.match.params.userID){this.refreshProfile();}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Profile,_objectSpread(_objectSpread({},this.props),{},{saveProfile:this.props.saveProfile,isOwner:!this.props.match.params.userID,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}));}}]);return ProfileContainer;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{profile:state.profilePage.profile,status:state.profilePage.status,authorizedUserId:state.auth.userId,isAuth:state.auth.isAuth};};export default compose(connect(mapStateToProps,{getUserProfile:getUserProfile,getStatus:getStatus,updateStatus:updateStatus,savePhoto:savePhoto,saveProfile:saveProfile}),withRouter,withAuthRedirect)(ProfileContainer);","map":{"version":3,"sources":["/home/skripnichenko/social_network/src/components/Profile/ProfileContainer.jsx"],"names":["React","Profile","connect","getUserProfile","getStatus","updateStatus","savePhoto","saveProfile","withRouter","withAuthRedirect","compose","ProfileContainer","userId","props","match","params","userID","authorizedUserId","history","push","refreshProfile","prevProps","prevState","profile","status","Component","mapStateToProps","state","profilePage","auth","isAuth"],"mappings":"uxBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,cAAT,CAAyBC,SAAzB,CAAoCC,YAApC,CAAkDC,SAAlD,CAA6DC,WAA7D,KAAgF,+BAAhF,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,gBAAT,KAAiC,4BAAjC,CACA,OAASC,OAAT,KAAwB,OAAxB,C,GAGMC,CAAAA,gB,4TAEe,CACb,GAAIC,CAAAA,MAAM,CAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,MAArC,CACA,GAAI,CAACJ,MAAL,CAAa,CACTA,MAAM,CAAG,KAAKC,KAAL,CAAWI,gBAApB,CACA,GAAI,CAACL,MAAL,CAAa,CACT,KAAKC,KAAL,CAAWK,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,EACH,CACJ,CAED,KAAKN,KAAL,CAAWV,cAAX,CAA0BS,MAA1B,EACA,KAAKC,KAAL,CAAWT,SAAX,CAAqBQ,MAArB,EACH,C,6DAEmB,CAChB,KAAKQ,cAAL,GACH,C,8DAEkBC,S,CAAWC,S,CAAW,CACrC,GAAI,KAAKT,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,MAAxB,GAAmCK,SAAS,CAACP,KAAV,CAAgBC,MAAhB,CAAuBC,MAA9D,CAAsE,CAClE,KAAKI,cAAL,GACH,CAEJ,C,uCAEQ,CACL,mBACI,KAAC,OAAD,gCAAa,KAAKP,KAAlB,MAAyB,WAAW,CAAE,KAAKA,KAAL,CAAWN,WAAjD,CAA8D,OAAO,CAAE,CAAC,KAAKM,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,MAAhG,CAAwG,OAAO,CAAE,KAAKH,KAAL,CAAWU,OAA5H,CAAqI,MAAM,CAAE,KAAKV,KAAL,CAAWW,MAAxJ,CAAgK,YAAY,CAAE,KAAKX,KAAL,CAAWR,YAAzL,CAAuM,SAAS,CAAE,KAAKQ,KAAL,CAAWP,SAA7N,GADJ,CAIH,C,8BA/B0BN,KAAK,CAACyB,S,EAmCrC,GAAIC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACC,KAAD,QAAY,CAC9BJ,OAAO,CAAEI,KAAK,CAACC,WAAN,CAAkBL,OADG,CAE9BC,MAAM,CAAEG,KAAK,CAACC,WAAN,CAAkBJ,MAFI,CAG9BP,gBAAgB,CAAEU,KAAK,CAACE,IAAN,CAAWjB,MAHC,CAI9BkB,MAAM,CAAEH,KAAK,CAACE,IAAN,CAAWC,MAJW,CAAZ,EAAtB,CAOA,cAAepB,CAAAA,OAAO,CAClBR,OAAO,CAACwB,eAAD,CAAkB,CAAEvB,cAAc,CAAdA,cAAF,CAAkBC,SAAS,CAATA,SAAlB,CAA6BC,YAAY,CAAZA,YAA7B,CAA2CC,SAAS,CAATA,SAA3C,CAAsDC,WAAW,CAAXA,WAAtD,CAAlB,CADW,CAElBC,UAFkB,CAGlBC,gBAHkB,CAAP,CAIbE,gBAJa,CAAf","sourcesContent":["import React from 'react';\nimport Profile from './Profile';\nimport { connect } from 'react-redux';\nimport { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile } from './../../redux/profile-reducer'\nimport { withRouter } from 'react-router-dom';\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect';\nimport { compose } from 'redux';\n\n\nclass ProfileContainer extends React.Component {\n\n    refreshProfile() {\n        let userId = this.props.match.params.userID;\n        if (!userId) {\n            userId = this.props.authorizedUserId;\n            if (!userId) {\n                this.props.history.push('./login')\n            }\n        }\n\n        this.props.getUserProfile(userId);\n        this.props.getStatus(userId);\n    }\n\n    componentDidMount() {\n        this.refreshProfile();\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (this.props.match.params.userID !== prevProps.match.params.userID) {\n            this.refreshProfile();\n        }\n            \n    }\n\n    render() {\n        return (\n            <Profile {...this.props} saveProfile={this.props.saveProfile} isOwner={!this.props.match.params.userID} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus} savePhoto={this.props.savePhoto} />\n\n        )\n    }\n}\n\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    authorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n})\n\nexport default compose(\n    connect(mapStateToProps, { getUserProfile, getStatus, updateStatus, savePhoto, saveProfile }),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)"]},"metadata":{},"sourceType":"module"}