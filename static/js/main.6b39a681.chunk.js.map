{"version":3,"sources":["assets/images/users.png","API/api.js","redux/dialogs-reducer.js","components/Users/Users.module.css","components/Navbar/Navbar.module.css","components/common/FormsControls/FormsControls.js","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Navbar/Navbar.jsx","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","utils/object-helpers.js","redux/users-reducers.js","redux/users-selectors.js","components/Users/UsersContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","HOC/withSuspense.js","App.js","reportWebVitals.js","redux/redux-store.js","index.js","assets/images/preloader.svg","components/common/Preloader/Preloader.jsx","components/common/FormsControls/FormsControls.module.css","utils/validators/validator.js","components/Header/Header.module.css","components/common/Paginator/Paginator.module.css","redux/profile-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","followUser","id","post","unfollowUser","delete","getProfile","userId","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","SEND_MESSAGE","initialState","newMessageBody","messagesData","message","dialogsData","name","sendMessageCreator","type","dialogsReducer","state","action","module","exports","FormControl","input","meta","touched","error","children","hasError","className","c","formControl","Textarea","props","restProps","child","Input","CreateField","placeholder","validators","component","text","validate","Header","header","img","src","alt","loginBlock","isAuth","onClick","to","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","captchaUrl","setAuthUserData","payload","getAuthUserData","dispatch","a","resultCode","url","authReducer","HeaderContainer","this","React","Component","connect","auth","Navbar","nav","item","activeClassName","activelink","active","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","i","push","cn","paginator","filter","p","map","selectedPage","pageNumber","e","User","user","followingInProgress","unfollow","follow","u","photos","small","userPhoto","followed","disabled","some","Users","totalUsersCount","users","updateObjectInArray","items","itemId","objPropName","newObjProps","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USER_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","isFetching","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","getAllUsers","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","Preloader","compose","bind","totalCount","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","required","formSummaryError","messages","length","stopSubmit","_error","SET_INITIALIZER","initialized","appReducer","withSuspense","Suspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","window","removeEventListener","catchAllUnhandledErrors","exact","path","render","withRouter","app","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","require","createStore","combineReducers","applyMiddleware","store","profilePage","profileReducer","messagesPage","formReducer","thunkMiddleware","ReactDOM","document","getElementById","preloader","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","SAVE_PHOTO_SUCCESS","postsData","likesCount","addPostActionCreator","newPostText","setStatus","getUserProfile","alert","file","getState","Promise","reject"],"mappings":"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","file":"static/js/main.6b39a681.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/users.40121b75.png\";","import * as axios from 'axios';\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {\n        'API-KEY': '5e378bfc-ec93-4ae2-861e-c9a11cd868c9',\n    }\n});\n\nexport const usersAPI = {\n    getUsers(currentPage = 1, pageSize = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => response.data)\n    },\n    followUser(id) {\n        return instance.post(`follow/${id}`).then(response => response.data)\n    },\n    unfollowUser(id) {\n        return instance.delete(`follow/${id}`).then(response => response.data)\n    },\n    getProfile(userId) {\n        return profileAPI.getProfile(userId);\n    }\n}\n\nexport const profileAPI = {\n    getProfile(userId) {\n        return instance.get(`profile/` + userId);\n    },\n    getStatus(userId) {\n        return instance.get(`profile/status/` + userId);\n    },\n    updateStatus(status) {\n        return instance.put(`profile/status`, { status: status });\n    },\n    savePhoto(photoFile) {\n\n        const formData = new FormData();\n        formData.append('image', photoFile);\n\n        return instance.put('profile/photo', formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        });\n    },\n    saveProfile(profile) {\n        debugger\n        return instance.put(`profile`, profile);\n    }\n}\n\nexport const authAPI = {\n    me() {\n        return instance.get(`auth/me`);\n    },\n    login(email, password, rememberMe = false, captcha = null) {\n        return instance.post(`auth/login`, { email, password, rememberMe, captcha });\n    },\n    logout() {\n        return instance.delete(`auth/login`);\n    }\n}\n\nexport const securityAPI = {\n   getCaptchaUrl() {\n       return instance.get(`security/get-captcha-url`);\n   }\n}","const SEND_MESSAGE = 'SEND_MESSAGE';\n\nlet initialState = {\n    newMessageBody: '',\n    messagesData: [\n        { id: 1, message: 'Hi', },\n        { id: 2, message: 'How are you?', },\n        { id: 3, message: 'Whats news?', },\n        { id: 4, message: 'Ok', },\n        { id: 5, message: 'Haha', }\n    ],\n    dialogsData: [\n        { id: 1, name: 'Sasha', },\n        { id: 2, name: 'Dima', },\n        { id: 3, name: 'Sveta', },\n        { id: 4, name: 'Pasha', },\n        { id: 5, name: 'Artem', }\n    ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n\n    switch (action.type) {\n        case SEND_MESSAGE:{\n            return {\n                ...state,\n                messagesData: [...state.messagesData, {id: 6, message: action.newMessageBody}]\n            };\n            \n        }\n        default:\n            return state;\n    }\n};\n\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\n\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__17MJB\",\"selectedPage\":\"Users_selectedPage__J63sh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"item\":\"Navbar_item__zmMk4\",\"activelink\":\"Navbar_activelink__2l0ss\"};","import React from \"react\";\nimport c from './FormsControls.module.css';\nimport { Field } from \"redux-form\";\n\n\nexport const FormControl = ({ input, meta: {touched, error}, children}) => {\n    const hasError = touched && error;\n    return (\n        <div className={c.formControl + ' ' + (hasError ? c.error : '')}>\n            <div>\n                {children}\n            </div>\n            { hasError && <span>{error}</span>}\n        </div>\n    )\n}\n\nexport const Textarea = (props) => {\n    const { input, meta, child, ...restProps } = props;\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\n}\n\nexport const Input = (props) => {\n    const { input, meta, child, ...restProps } = props;\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\n}\n\nexport const CreateField = (placeholder, name, validators, component, props={}, text='') => {\n    return <div>\n        <Field placeholder={placeholder} validate={validators} name={name} component={component} {...props}/>{text}\n    </div>\n}","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport c from './Header.module.css';\n\nconst Header = (props) => {\n  return (\n    <header className={c.header}>\n      <img className={c.img} src='https://upload.wikimedia.org/wikipedia/commons/thumb/f/fa/Apple_logo_black.svg/1000px-Apple_logo_black.svg.png' alt=''></img>\n      <div className={c.loginBlock}>\n        { props.isAuth ? <div>{props.login} <button onClick={props.logout} >Log out</button> </div> \n          : <NavLink to={'/login'}>Login</NavLink> }\n      </div>\n    </header>\n\n  )\n}\n\nexport default Header;","import { stopSubmit } from 'redux-form';\nimport { authAPI, securityAPI } from './../API/api';\n\nconst SET_USER_DATA = '/auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = '/auth/GET_CAPTCHA_URL_SUCCESS';\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n};\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case SET_USER_DATA:\n            return { ...state, ...action.payload, isAuth: action.payload.isAuth };\n        case GET_CAPTCHA_URL_SUCCESS:\n            return {...state, ...action.payload}\n\n        default:\n            return state;\n    };\n};\nexport const setAuthUserData = (userId, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { userId, email, login, isAuth } });\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({ type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}})\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me();\n    if (response.data.resultCode === 0) {\n        let { id, login, email } = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true));\n    };\n\n}\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData());\n    } else {\n        if (response.data.resultCode === 10) {\n            dispatch(getCaptchaUrl());\n        }\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error';\n        dispatch(stopSubmit('login', { _error: message }));\n    }\n\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout()\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false));\n    };\n}\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n    let response = await securityAPI.getCaptchaUrl();\n    const captcha = response.data.url;\n    dispatch(getCaptchaUrlSuccess(captcha));\n}\n\nexport default authReducer;","import React from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { logout } from './../../redux/auth-reducer';\n\nclass HeaderContainer extends React.Component {\n\n        render() {\n            return <Header {...this.props} />\n        }\n    };\n\n\nconst mapStateToProps = (state) => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login\n});\n\nexport default connect(mapStateToProps, { logout })(HeaderContainer);","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport c from './Navbar.module.css';\n\nconst Navbar = () => {\n    return (\n        <nav className={c.nav}>\n        <div className={c.item} >\n          <NavLink to='/profile' activeClassName={c.activelink}>Profile</NavLink>\n        </div><div className={`${c.item} ${c.active}`}>\n          <NavLink to='/dialogs' activeClassName={c.activelink}>Messages</NavLink>\n        </div><div className={c.item}>\n          <NavLink to='/users' activeClassName={c.activelink}>Users</NavLink>\n        </div><div className={`${c.item} ${c.active}`}>\n          <NavLink to='$' activeClassName={c.activelink}>Messages</NavLink>\n        </div><div className={c.item}>\n          <NavLink to='$' activeClassName={c.activelink}>Music</NavLink>\n        </div><div className={c.item}>\n          <NavLink to='$' activeClassName={c.activelink}>Settings</NavLink>\n        </div>            \n      </nav>\n    )\n}\n\nexport default Navbar;","import React, { useState } from 'react';\nimport c from './Paginator.module.css';\nimport cn from 'classnames'\n\nlet Paginator = ({currentPage, totalItemsCount, pageSize, onPageChanged, portionSize = 10}) => {\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\n    let pages = [];\n\n    let portionCount = Math.ceil(pagesCount / portionSize);\n    let [portionNumber, setPortionNumber] = useState(1);\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n    let rightPortionPageNumber = portionSize * portionNumber;\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n\n    return <div className={cn(c.paginator)}>\n        { portionNumber > 1 &&\n        <button onClick={() => { setPortionNumber(portionNumber - 1) }}>PREV</button> }\n\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p<=rightPortionPageNumber)\n                .map((p) => {\n                return <span className={ cn({\n                    [c.selectedPage]: currentPage === p\n                }, c.pageNumber) }\n                             key={p}\n                             onClick={(e) => {\n                                 onPageChanged(p);\n                             }}>{p}</span>\n            })}\n        { portionCount > portionNumber &&\n            <button onClick={() => { setPortionNumber(portionNumber + 1) }}>NEXT</button> }\n    </div>\n}\n\nexport default Paginator;","import React from 'react';\nimport c from './Users.module.css';\nimport userPhoto from './../../assets/images/users.png';\nimport { NavLink } from 'react-router-dom';\n\n\nlet User = ({ user, followingInProgress, unfollow, follow }) => {\n    let u = user;\n    return <div>\n        <span>\n            <div>\n                <NavLink to={'/profile/' + u.id} >\n                    <img src={u.photos.small || userPhoto} className={c.userPhoto} />\n                </NavLink>\n            </div>\n            <div>\n                {u.followed ? <button disabled={followingInProgress.some(id => id === u.id)}\n                    onClick={() => { unfollow(u.id) }}>Unfollow</button>\n\n\n                    : <button disabled={followingInProgress.some(id => id === u.id)}\n                        onClick={() => { follow(u.id) }}>Follow</button>}\n            </div>\n        </span>\n        <span>\n            <span>\n                <div>{u.name}</div>\n                <div>{u.status}</div>\n            </span>\n            <span>\n                <div>{'u.location.city'}</div>\n                <div>{'u.location.country'}</div>\n            </span>\n        </span>\n    </div>\n}\n\nexport default User;","import React from 'react';\nimport Paginator from '../common/Paginator/Paginator';\nimport User from './User.jsx';\n\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\n\n    return <div>\n        <Paginator currentPage={currentPage} totalItemsCount={totalUsersCount} pageSize={pageSize} onPageChanged={onPageChanged} />\n        {\n            users.map(u => <User user={u} followingInProgress={props.followingInProgress} unfollow={props.unfollow} follow={props.follow} key={u.id} />)\n        }\n    </div>\n}\nexport default Users;","\nexport const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n    return items.map(u => {\n        if (u[objPropName] === itemId) {\n            return { ...u, ...newObjProps }\n        }\n        return u;\n    })\n}","import { updateObjectInArray } from '../utils/object-helpers';\nimport { usersAPI } from '../API/api'\n\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET_USERS';\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\nconst SET_TOTAL_USER_COUNT = 'SET_TOTAL_USER_COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\nlet initialState = {\n    users: [],\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: true })\n                }\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userId, 'id', {followed: false })\n            }\n        case SET_USERS:\n            return { ...state, users: action.users };\n\n        case SET_CURRENT_PAGE:\n            return { ...state, currentPage: action.currentPage };\n\n        case SET_TOTAL_USER_COUNT:\n            return { ...state, totalUsersCount: action.totalUsersCount };\n\n        case TOGGLE_IS_FETCHING:\n            return { ...state, isFetching: action.isFetching };\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            };\n\n        default:\n            return state;\n    };\n};\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users });\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\nexport const setTotalUserCount = (totalUsersCount) => ({ type: SET_TOTAL_USER_COUNT, totalUsersCount });\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\n\nexport const getUsers = (currentPage, pageSize) => {\n    return async (dispatch) => {\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(currentPage));\n        let data = await usersAPI.getUsers(currentPage, pageSize);\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUserCount(data.totalCount));\n\n    }\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleIsFollowingProgress(true, userId));\n    let response = await apiMethod(userId);\n\n    if (response.resultCode === 0) {\n        dispatch(actionCreator(userId));\n    };\n    dispatch(toggleIsFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.followUser.bind(usersAPI), followSuccess)\n    }\n};\n\nexport const unfollow = (userId) => {\n    return async (dispatch) => {\n        followUnfollowFlow(dispatch, userId, usersAPI.unfollowUser.bind(usersAPI), unfollowSuccess)\n    }\n}\n\nexport default usersReducer;","import { createSelector } from \"reselect\"\n\nconst getAllUsersSelector = (state) => {\n    return state.usersPage.users\n}\n\nexport const getAllUsers = createSelector(getAllUsersSelector, (users) => {\n    return users\n})\n\nexport const getPageSize = (state) => {\n    return state.usersPage.pageSize\n}\nexport const getTotalUsersCount = (state) => {\n    return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state) => {\n    return state.usersPage.currentPage\n}\nexport const getIsFetching = (state) => {\n    return state.usersPage.isFetching\n}\nexport const getFollowingInProgress = (state) => {\n    return state.usersPage.followingInProgress\n}","import React from 'react';\nimport { connect } from 'react-redux';\nimport Users from './Users';\nimport { follow, unfollow, toggleIsFollowingProgress, setCurrentPage, getUsers } from './../../redux/users-reducers';\nimport Preloader from '../common/Preloader/Preloader';\nimport { compose } from 'redux';\nimport { getAllUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress } from './../../redux/users-selectors';\n\nclass UsersContainer extends React.Component {\n\n    componentDidMount() {\n        let {currentPage, pageSize} = this.props;\n        this.props.getUsers(currentPage, pageSize);\n    }\n\n    onPageChanged = (pageNumber) => {\n        let {pageSize} = this.props;\n        this.props.getUsers(pageNumber, pageSize);\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader /> : null}\n            <Users totalUsersCount={this.props.totalUsersCount}\n                pageSize={this.props.pageSize}\n                currentPage={this.props.currentPage}\n                onPageChanged={this.onPageChanged}\n                users={this.props.users}\n                follow={this.props.follow}\n                unfollow={this.props.unfollow}\n                toggleIsFollowingProgress={this.props.toggleIsFollowingProgress}\n                followingInProgress={this.props.followingInProgress} />\n        </>\n    }\n}\nlet mapStateToProps = (state) => {\n    return {\n        users: getAllUsers(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\nexport default compose(\n    connect(mapStateToProps,\n        {\n            follow, unfollow, setCurrentPage,\n            toggleIsFollowingProgress, getUsers\n        }),\n)(UsersContainer);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { reduxForm } from \"redux-form\";\nimport { CreateField, Input } from '../common/FormsControls/FormsControls';\nimport { required } from './../../utils/validators/validator';\nimport { login } from './../../redux/auth-reducer';\nimport { Redirect } from 'react-router-dom';\nimport c from './../common/FormsControls/FormsControls.module.css'\n\nconst Login = (props) => {\n    const onSubmit = (formData) => {\n        props.login(formData.login, formData.password, formData.rememberMe, formData.captcha);\n    }\n\n    if (props.isAuth) return <Redirect to={'/profile'} />\n    return <div>\n        <h1>Login</h1>\n        <LoginReduxForm captchaUrl={props.captchaUrl} onSubmit={onSubmit} />\n    </div>\n}\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n    return (\n        <form onSubmit={handleSubmit}>\n\n            {CreateField('Login', 'login', [required], Input)}\n            {CreateField('Password', 'password', [required], Input, { type: 'password' })}\n            {CreateField(null, 'rememberMe', [], Input, { type: 'checkbox' }, )}\n\n            {captchaUrl && <img src={captchaUrl} />}\n            {captchaUrl && CreateField('Symbols from image', 'captcha', [required], Input)}\n\n            {error && <div className={c.formSummaryError}>\n                {error}\n            </div>}\n            <div>\n                <button>Loggin</button>\n            </div>\n        </form>\n    )\n}\n\nconst LoginReduxForm = reduxForm({\n    form: 'login'\n})(LoginForm);\n\nconst mapStateToProps = (state) => {\n    return ({ \n        captchaUrl: state.auth.captchaUrl,\n        isAuth: state.auth.isAuth \n    })\n}\n\nexport default connect(mapStateToProps, { login })(Login);","import { getAuthUserData } from './../redux/auth-reducer'\n\nconst SET_INITIALIZER = 'SET_INITIALIZER';\n\n\nlet initialState = {\n    initialized: false\n};\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n\n        case SET_INITIALIZER:\n            return {\n                ...state,\n                initialized: true\n            };\n\n        default:\n            return state;\n    };\n};\nexport const initializedSuccess = () => ({ type: SET_INITIALIZER });\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData());\n    promise.then(() => {\n        dispatch(initializedSuccess());\n    })\n\n}\n\nexport default appReducer;","import React from 'react';\nimport Preloader from './../components/common/Preloader/Preloader';\n\nexport const withSuspense = (Component) => {\n    return (props) => <React.Suspense fallback={<Preloader />}>\n        < Component {...props} />\n    </React.Suspense>\n}","import React from 'react';\nimport './App.css';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Navbar from './components/Navbar/Navbar';\nimport { Redirect, Route, Switch, withRouter } from 'react-router-dom';\nimport UsersContainer from './components/Users/UsersContainer';\nimport LoginPage from './components/Login/Login';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { initializeApp } from './redux/app-reducer';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { withSuspense } from './HOC/withSuspense'\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nclass App extends React.Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n  componentWillUnmount() {\n    window.removeEventListener('unhandledrejection', this.catchAllUnhandledErrors);\n  }\n  render() {\n    if (!this.props.initialized) return <Preloader />\n    return (\n      <div className='app-wrapper' >\n        <HeaderContainer />\n\n        <Navbar />\n\n        <div className='app-wrapper-content' >\n          <Switch>\n            <Route exact path='/'\n              render={() => <Redirect to={'/profile'} />} />\n            <Route path='/dialogs'\n              render={withSuspense(DialogsContainer)} />\n\n            <Route path='/profile/:userID?'\n              render={withSuspense(ProfileContainer)} />\n\n            <Route path='/users'\n              render={\n                () => < UsersContainer />} />\n\n            <Route path='/login'\n              render={\n                () => < LoginPage />} />\n\n            <Route path='*'\n              render={\n                () => <div>404 NOT FOUND</div>} />\n          </Switch>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, { initializeApp })\n)(App);","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import profileReducer from './profile-reducer.js';\nimport dialogsReducer from './dialogs-reducer';\nimport usersReducer from './users-reducers.js';\nimport authReducer from './auth-reducer.js';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from './app-reducer.js';\n\nconst { createStore, combineReducers, applyMiddleware } = require(\"redux\");\n\n\nlet reducers = combineReducers({\n    profilePage: profileReducer,\n    messagesPage: dialogsReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form : formReducer,\n    app: appReducer\n});\n\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport store from './redux/redux-store';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\n\nReactDOM.render(\n    <HashRouter>\n        <Provider store={store} >\n            <App />\n        </Provider>\n\n    </HashRouter>, document.getElementById('root'))\n\n\n\nreportWebVitals();","export default __webpack_public_path__ + \"static/media/preloader.a8be6c6b.svg\";","import preloader from './../../../assets/images/preloader.svg';\n\nlet Preloader = (props) => {\n    return <div >\n        <img src={preloader} />\n    </div>\n}\n\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__3oI2W\",\"error\":\"FormsControls_error__9lcue\",\"formSummaryError\":\"FormsControls_formSummaryError__1F2-S\"};","export const required = value => {\n    if (value) return undefined;\n\n    return 'Field is required';\n    \n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n    return undefined;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"img\":\"Header_img__3ifQS\",\"loginBlock\":\"Header_loginBlock__6mma5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__18P4_\",\"pageNumber\":\"Paginator_pageNumber__xOsKi\",\"selectedPage\":\"Paginator_selectedPage__3SIki\"};","import { stopSubmit } from 'redux-form';\nimport { profileAPI, usersAPI } from './../API/api'\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\n\nlet initialState = {\n    postsData: [\n        { id: 1, message: 'Hi, how are you?', likesCount: 14 },\n        { id: 2, message: 'It is my first post', likesCount: 3 }\n    ],\n    profile: null,\n    status: '',\n};\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST:\n            return {\n                ...state,\n                postsData: [...state.postsData, {\n                    id: 5,\n                    message: action.newPostText,\n                    likesCount: 0,\n                }],\n            }\n        case SET_USER_PROFILE: {\n            return { ...state, profile: action.profile }\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            return { ...state, profile: { ...state.profile, photos: action.photos } }\n        }\n        case SET_STATUS: {\n            return { ...state, status: action.status }\n        }\n        default:\n            return state;\n    };\n};\n\n\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText });\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\nexport const savePhotoSuccess = (photos) => ({ type: SAVE_PHOTO_SUCCESS, photos });\n\n\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n    const response = await usersAPI.getProfile(userId);\n    dispatch(setUserProfile(response.data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n    const response = await profileAPI.getStatus(userId);\n    dispatch(setStatus(response.data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n    try {\n        const response = await profileAPI.updateStatus(status);\n        if (response.data.resultCode === 0) {\n            dispatch(setStatus(status));\n        };\n    } catch (error) {\n        alert('Some error occured')\n    }\n\n};\n\nexport const savePhoto = (file) => async (dispatch) => {\n\n    const response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data.photos));\n    };\n};\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    const response = await profileAPI.saveProfile(profile);\n    if (response.data.resultCode === 0) {\n        dispatch(getUserProfile(userId));\n    } else {\n        dispatch(stopSubmit('edit-profile', { _error: response.data.messages }));\n        return Promise.reject(response.data.messages);\n    }\n};\n\nexport default profileReducer;"],"sourceRoot":""}